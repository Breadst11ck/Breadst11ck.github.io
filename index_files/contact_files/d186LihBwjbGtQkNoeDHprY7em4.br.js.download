var DictionaryModule;(function(n){function at(n){var t,i;n?(t=_d.querySelector(".dc_attr.dc_flt"),t&&Lib.CssClass.add(t,"b_hide")):(i=_d.querySelector(".dc_attr.dc_flt.b_hide"),i&&Lib.CssClass.remove(i,"b_hide"))}function kt(){pt();dt();vt();ni();ti()}function vt(){const t=_d.querySelector(".dc_attr");if(t!==null&&t!==undefined&&t instanceof HTMLElement){const i=t.getElementsByTagName("a");if(i!==null&&i!==undefined){const n=i[0];n!==null&&n!==undefined&&n instanceof HTMLAnchorElement&&(n.setAttribute("aria-labelledby","dc_attribution"),n.setAttribute("target","_blank"))}}}function dt(){p=_d.querySelectorAll(".dc_wotd_ctb");oi();hi();nt(!0)}function gt(){const u=_d.querySelector(".WordContainerWrap");if(u!==null&&u!==undefined&&u instanceof HTMLElement){const f=u.getElementsByTagName("a");if(f!==null&&f!==undefined)for(let u=0;u<f.length;u++){const e=f[u];if(e===null||e===undefined||!(e instanceof HTMLAnchorElement))return;const o=DictionaryLocTexts.requerySearchUrl.replace("{0}",`define+${e.textContent}&istb=1`);e.addEventListener("click",u=>{ii(u,o),n.log(t,"Click",r,"AnchorElement",i,{})});e.addEventListener("keypress",u=>{ri(u,o),n.log(t,"KeyPress",r,"AnchorElement",i,{})})}}}function ni(){const n=_d.getElementsByClassName("b_nymsList");if(n!==null&&n!==undefined&&n instanceof HTMLCollection)for(let t=0;t<n.length;t++){const i=n[t];if(i===null||i===undefined||!(i instanceof HTMLElement))return;const r=i.getElementsByTagName("a");if(r===null||r===undefined)return;for(let n=0;n<r.length;n++){const t=r[n];if(t===null||t===undefined||!(t instanceof HTMLAnchorElement))return;t.addEventListener("click",()=>{s(".dictNymsInstLink")});t.addEventListener("keypress",()=>{s(".dictNymsInstLink")})}}}function ti(){const n=_d.getElementsByClassName("dc_images");if(n!==null&&n!==undefined&&n instanceof HTMLCollection)for(let t=0;t<n.length;t++){const i=n[t];if(i===null||i===undefined||!(i instanceof HTMLElement))return;const r=i.getElementsByClassName("dc_link");if(r===null||r===undefined)return;for(let n=0;n<r.length;n++){const t=r[n];if(t===null||t===undefined||!(t instanceof HTMLElement))return;t.addEventListener("click",()=>{s(".dictImageInstLink")});t.addEventListener("keypress",()=>{s(".dictImageInstLink")})}}}function ii(n,t){n!==null&&n!==undefined&&(n.preventDefault(),ut(t))}function ri(n,t){n!==null&&n!==undefined&&n.key==="Enter"&&(n.preventDefault(),ut(t))}function nt(n){let t=_d.querySelectorAll(".dc_mwsel");if(t)for(var i=0;i<t.length;i++)t[i]&&(n?sj_be(t[i],"click",yt):sj_ue(t[i],"click",yt))}function yt(u){n.log(t,"Click",r,"ExpansionToggle",i,{});let f=_d.querySelector(".dcont .btm_sml a");var e=sj_et(u);f&&e&&!ui(e)&&f.click()}function ui(n){let t=_d.querySelectorAll(".dc_aud_wrp"),r=_d.querySelector(".dcont");if(!n||!t||!r)return!1;for(var i=0;i<t.length;i++)if(sj_we(n,t[i],r))return!0;return!1}function fi(n,t){var r,u,i,f;if(_d.querySelector&&n&&(r=_d.querySelectorAll(".DictInlineExpansion div a"),r!=null&&r.length>0))for(u=0;u<r.length;u++)i=r[u],f=i.parentNode.style.display==="none"||i.children[0].className.indexOf("sw_up")>=0,i!==null&&i instanceof HTMLElement&&(t?f:!f)&&(i.addEventListener("click",n=>n.preventDefault()),i.click())}function ei(n){sj_evt.fire("clarity.trigger",n)}function ot(n,t){Log&&Log.Log&&Log.Log("Info",1,k,!1,"Title",n,"Pos",t)}function s(n){let t=document.querySelector(n);t&&_w.si_T&&_w.si_T(t.getAttribute("h"))}function y(n,t,i){if(Log&&Log.Log){if(i){Log.Log("Expand",1,k,!1,"Title",n,"Pos",t);Log.Log("Show",1,k,!1,"Title",n,"Pos",t);return}Log.Log("DHTMLClick",1,k,!1,"Title",n,"Pos",t)}}function oi(){var n,t;if((d=!v&&((t=(n=_d.querySelector(".dcajx"))===null||n===void 0?void 0:n.hasAttribute("data-use-bds-controls"))!==null&&t!==void 0?t:!1),e=_d.querySelector(d?".dc_searchbtn":"#dc_searchbtn"),e!==null&&e!==undefined)&&(d||e instanceof HTMLElement)&&(!d||e instanceof HTMLButtonElement)&&(u=_d.querySelector("#dictautodd_c"),u!==null&&u!==undefined&&u instanceof HTMLInputElement)&&(f=_d.querySelector(".dcajx + .dc_ndf"),wt=_d.querySelector(".dc_getdf"),ct=f&&f.innerHTML?f.innerHTML:"",c===!0)){if(l=_d.querySelector("#dc_searchovlbtn"),l===null||l===undefined||!(l instanceof HTMLButtonElement))return;if(o=_d.querySelector("#dictautoddovl_c"),o===null||o===undefined||!(o instanceof HTMLInputElement))return;if(h=_d.querySelector("#dc_toolbox_overlay .dcajx + .dc_ndf"),h===null||h===undefined||!(h instanceof HTMLElement))return;bt=f&&f.innerHTML?f.innerHTML:"";g=_d.querySelector("#dc_toolbox_overlay .dc_toolbox_upsell");w=_d.querySelector("#dc_toolbox_overlay .dc_toolbox_upsell_link");w&&w.addEventListener("click",si,!1)}}function si(){n.log(t,"Click",r,"ShorelineUpsellLink",i,{})}function hi(){const f=!1;if(sj_be(e,"click",()=>{rt(it(f),f),s(".dictSearchBoxInstLink"),n.log(t,"Click",r,"SearchBoxButton",i,{})}),sj_be(e,"keydown",u=>{tt(u,f),s(".dictSearchBoxInstLink"),n.log(t,"KeyPress",r,"SearchBoxButton",i,{})}),e!==null&&e!==undefined&&e instanceof HTMLButtonElement){if(u==null||u==undefined||!(u instanceof HTMLElement))return;u.addEventListener("input",function(){v&&e instanceof HTMLButtonElement&&(e.disabled=u.value===""?!0:!1)},!1)}if(sj_be(u,"keydown",u=>{tt(u,f),s(".dictSearchBoxInstLink"),n.log(t,"KeyPress",r,"SearchTextBox",i,{})}),c===!0){const u=!0;sj_be(l,"click",()=>{rt(it(u),u),s(".dictSearchBoxInstLink"),n.log(t,"Click",r,"SearchBoxButtonOverlay",i,{})});sj_be(l,"keydown",f=>{tt(f,u),s(".dictSearchBoxInstLink"),n.log(t,"KeyPress",r,"SearchBoxButtonOverlay",i,{})});o.addEventListener("input",function(){l.disabled=o.value===""?!0:!1});sj_be(o,"keydown",f=>{tt(f,u),s(".dictSearchBoxInstLink"),n.log(t,"KeyPress",r,"SearchTextBoxOverlay",i,{})})}if(p&&p.length>0)for(let u=0;u<p.length;u++)sj_be(p[u],"click",()=>{ci(p[u],u),s(".dictWOTDInstLink"),n.log(t,"KeyPress",r,"CardClick",i,{itemIndex:u.toString()})})}function tt(n,t){var i,r;if(n!==null&&n!==undefined)if(n.code==="Tab"){if(i=t?_d.querySelector("#dc_toolbox_overlay .sugg_drawer"):_d.querySelector("#dc_toolbox .sugg_drawer"),i===null||i===undefined||!(i instanceof HTMLElement))return;while(i.lastChild)i.removeChild(i.lastChild)}else{r=n.keyCode||n.which;const i=t===!0?o.value:u.value;r===13&&i!==null&&i!==""&&(t===!1?(f.click(),d?BingDesignSystem.Components.Buttons.Standard.actions.focus(e):e.focus()):(h.click(),l.focus()),rt(it(t),t))}}function ci(n,t){if(y("DictionaryWoD",t.toString(),!1),n){let t=n.getAttribute("data-word").toLocaleLowerCase(),r=_d.querySelector(".dc_wotd_ctb.active"),i=_d.querySelector(".dc_wotd_url"),u=_d.querySelector(".dc_wotd_date");if(!r)return;Lib.CssClass.remove(r,"active");Lib.CssClass.add(n,"active");let f=n.getAttribute("data-day");i&&(i.setAttribute("href","/search?q="+n.getAttribute("data-define")+"+"+t),i.innerHTML=n.getAttribute("data-label")+t);u&&(u.innerHTML=f);t&&ut(DictionaryLocTexts.requerySearchUrl.replace("{0}",`${t}&iswod=1`))}}function it(n){var i,t;const r=n===!0?_d.querySelector(".dcajx #dictautoddovl.suggItem.sugg_hv div"):_d.querySelector(".dcajx #dictautodd.suggItem.sugg_hv div");if(i=r&&r.getAttribute("data-url")?r.getAttribute("data-url"):null,i==null){const r=n===!0?_d.querySelectorAll(".dcajx #dictautoddovl .suggItem div"):_d.querySelectorAll(".dcajx #dictautodd .suggItem div");if(r)for(t=0;t<r.length;t++){let f=n===!0?o.value:u.value;r[t]&&f==r[t].innerHTML&&r[t].getAttribute("data-url")&&(i=r[t].getAttribute("data-url"))}}return i}function rt(n,t){y("DictionaryAjax","TOP",!1);let f=t===!0?o.value:u.value;var i=f.replace(/</g,"&lt;").replace(/>/g,"&gt;");if(i&&i!=a){a=i;const r=v===!0?"&istb=1":"";ft===!0?(n=lt.replace("{0}",DictionaryLocTexts.define).replace("{1}",i),sj_evt.fire("SearchBox_Requery"),setTimeout(()=>{window.location.href=n},200)):(n=n?`${n}${r}`:DictionaryLocTexts.requerySearchUrl.replace("{0}",`define+${i}${r}`),ut(n));v===!0&&e.click()}}function ut(u){n.log(t,"Request",r,"DictAjax",i,{url:u});var f=sj_gx();f&&(f.open("GET",u,!0),f.timeout=1e4,f.onreadystatechange=()=>{li(f,u)},f.ontimeout=()=>{n.log(t,"Error",r,"DictAjaxReqTimeout",i,{requestURL:u}),ot("DictionaryAjax_TimeOut",u)},f.send())}function li(s,p){var tt=!1,g,k,nt;if(ai(),s&&s.readyState===4&&s.status===200){if(g=s.responseText,g!=null){k=_d.createElement("elm");k.innerHTML=g;var w=_d.querySelector(".b_ans .dcont"),d=k.getElementsByClassName("dcont"),b=_d.querySelector(".b_ans .dcmbsep"),it=_d.querySelector(".dcajx.dcsbxhdr");if(w){const e=_d.querySelector("#tb_dictionary_overlay .tb_page_body");if(e!==null&&e!==undefined&&e instanceof HTMLElement&&e.scrollTo(0,0),c===!0&&f&&o?(Lib.CssClass.add(h,"b_hide"),Lib.CssClass.remove(o,"dc_ndfb")):f&&u&&(Lib.CssClass.add(f,"b_hide"),Lib.CssClass.remove(u,"dc_ndfb")),Lib.CssClass.remove(w,"dc_wdctr"),nt=d!=null&&d.length>0&&d[0]!=null,w.innerHTML=nt?d[0].innerHTML:"",vi(a),nt){if(_d.querySelector(".dc_wotd")){let n=w.querySelector("#trns_div"),t=w.querySelector("#trns_dict"),i=w.querySelector("#trns_dict_new"),r=w.querySelector("#dict_rcnt_src");n&&!Lib.CssClass.contains(n,"b_hide")&&Lib.CssClass.add(n,"b_hide");t&&!Lib.CssClass.contains(t,"b_hide")&&Lib.CssClass.add(t,"b_hide");i&&!Lib.CssClass.contains(i,"b_hide")&&Lib.CssClass.add(i,"b_hide");r&&!Lib.CssClass.contains(r,"b_hide")&&Lib.CssClass.add(r,"b_hide")}const n=_d.querySelector("#dc_toolbox_overlay");n!==null&&n instanceof HTMLElement&&yi(n);vt();c===!0&&h?Lib.CssClass.add(h,"b_hide"):f?Lib.CssClass.add(f,"b_hide"):!1;Lib.CssClass.add(w,"dcard");b?Lib.CssClass.add(b,"dictline"):!1;b?Lib.CssClass.remove(b,"b_hide"):!1;it?Lib.CssClass.remove(w,"dcard"):!1;let t=k.querySelector(".dc_img_sng.b_hide"),i=_d.querySelector(".dc_wotd_bottom .dc_img_sng");t&&i&&(i.innerHTML=t.innerHTML);c===!0&&(a="");y("DictionaryAjax_Rendered","TOP",!1)}else{ot("DictionaryAjax_NoBE",a);const n=document.createElement("a");n.href="/search?q="+a;n.textContent=a;n.target="_blank";f.textContent=ct;f.appendChild(n);c===!0?(h.textContent=DictionaryLocTexts.shorelineNoResultsMessage.replace("{0}",a),Lib.CssClass.remove(h,"b_hide")):Lib.CssClass.remove(f,"b_hide");Lib.CssClass.remove(w,"dcard");b?Lib.CssClass.add(b,"b_hide"):!1}n.log(t,"Success",r,"DictAjax",i,{});tt=!0;wi()}else n.log(t,"Error",r,"DictAjaxHTMLNotRendered",i,{})}else n.log(t,"Error",r,"DictAjaxResponseEmpty",i,{});tt||(n.log(t,"Error",r,"DictAjaxFailed",i,{}),c===!0&&h&&o?(Lib.CssClass.remove(h,"b_hide"),Lib.CssClass.add(o,"dc_ndfb")):f&&u&&(Lib.CssClass.remove(f,"b_hide"),Lib.CssClass.add(u,"dc_ndfb")))}else s&&s.readyState===4&&s.status!==200&&(n.log(t,"Error",r,"DictAjaxRequestFailed",i,{requestStatus:s.status.toString(),requestURL:p}),y("DictionaryAjax_NotRendered","TOP",!1));c===!0&&(o.value="",l.disabled=!0);u&&(u.value="");v===!0&&e instanceof HTMLButtonElement&&(e.disabled=!0)}function ai(){g&&(g.hidden=!0)}function vi(n){c&&g&&w&&et&&DictionaryLocTexts.shorelineSearchWebTextTemplate&&(g.hidden=!1,w.href=et.replace("{0}",n),w.textContent=DictionaryLocTexts.shorelineSearchWebTextTemplate.replace("{0}",n))}function yi(n){const t=n.querySelector(".WordContainerWrap");t!==null&&t instanceof HTMLElement&&(Lib.CssClass.remove(t,"b_hide"),b("dcColpse","dcExpd",".WordContainer"),b("dc_mwhvcr","dc_mwhvcrr",".dc_mwsel"),at(!1),pi())}function st(n,t,i){let r=_d.querySelectorAll(i);r!=null&&r!==undefined&&r.length!==0&&r.forEach(i=>{i!==null&&i!==undefined&&i instanceof HTMLElement&&(i.classList.contains(n)||i.classList.contains(t))&&(i.classList.toggle(n),i.classList.toggle(t))})}function pi(){let n=[];const t=_d.querySelectorAll(".WordContainerWrap .b_hide");if(t!=null&&t!==undefined){if(t.forEach(t=>{t!==null&&t!==undefined&&t instanceof HTMLElement&&n.push(t)}),st("dcColpse","dcExpd",".WordContainer"),st("dc_mwhvcr","dc_mwhvcrr",".dc_mwsel"),st("b_hide","b_vis",".dictposdiv"),_d.querySelector("#trns_dict_new")==null){const n=_d.querySelector(".dc_attr.dc_flt");n!==null&&n!=undefined&&n instanceof HTMLElement&&Lib.CssClass.toggle(n,"b_hide")}n!==null&&n!==undefined&&n.forEach(n=>{if(n!==null&&n!==undefined&&n instanceof HTMLElement){if(n.childNodes.length>0&&n.getElementsByTagName("li").length===0&&n.getElementsByClassName("b_nymsItem").length===0){n.classList.toggle("b_hide");return}let t=n.childNodes;t!==null&&t!==undefined&&(t.forEach(function(t){var i=t.cloneNode(!0);n.parentNode.insertBefore(i,n)}),n.remove())}})}}function pt(){var e=_d.querySelectorAll(".dictAudioInstLink"),f=_d.querySelectorAll(".dc_aud_wrp"),u;if(f.length)for(u=0;u<f.length;u++)sj_be(f[u],"click",f=>{ht(f),n.log(t,"Click",r,"AudioItem",i,{itemIndex:u.toString()}),s(".dictAudioInstLink")}),sj_be(f[u],"keydown",f=>{f.keyCode===n.enterKeyCode&&(ht(f),n.log(t,"KeyPress",r,"AudioItem",i,{itemIndex:u.toString()}),s(".dictAudioInstLink"))})}function ht(n){var i=n.currentTarget,t;i&&Lib.CssClass.contains(i,"dc_aud_wrp")&&(t=i.getElementsByTagName("audio"),t.length>0&&t[0]&&(t[0].play(),y("AudioLink","TOP",!1)))}function b(n,t,i){var f=_d.querySelectorAll(i),u,r;if(f!=null)for(u=0;u<f.length;u++)r=f[u],r&&(Lib.CssClass.contains(r,n)?(Lib.CssClass.remove(r,n),Lib.CssClass.add(r,t)):Lib.CssClass.contains(r,t)&&(Lib.CssClass.remove(r,t),Lib.CssClass.add(r,n)))}function wi(){pt();nt(!0);v===!0&&gt();sj_evt.fire("DcAjx_Loaded")}function bi(r,u,f,e,o){ft=r;i={appNS:u,kValue:f};lt=e;et=o;_d.querySelector("#dc_toolbox")!==null?(v=!0,t="ShorelineScenario",ft=!1):t="DefinitionScenario";_d.querySelector("#dc_toolbox_overlay")!==null&&(v=!0,c=!0);sj_evt.bind("Shared:SuggestionsDropDown:onItemChosen",()=>rt(it(!1),!1));sj_evt.bind("OverlayClosed",function(){const n=_d.querySelector(".b_ans .dcont");n!==null&&n!==undefined&&n instanceof HTMLElement&&(n.innerHTML="")});sj_evt.bind("exptoggle",function(t){var r=t[2],i=_ge(t[1]);if(i!=null&&n.HasPredecessorWithClass(i,"dcont"))if(y("ExpansionItem","TOP",!0),Lib.CssClass.contains(i,"inline")){let n=i.parentElement;n&&(n.setAttribute("tabindex","0"),n.focus(),sj_be(n,"focusout",()=>n.setAttribute("tabindex","")))}else _d.querySelector("#trns_dict_new")==null&&at(r),b("dcColpse","dcExpd",".WordContainer"),b("dc_mwhvcr","dc_mwhvcrr",".dc_mwsel"),b("b_hide","b_vis",".dictposdiv"),r?nt(!0):nt(!1)});kt()}const k="DictionaryAnswerV2";let t;const r="DictionaryModule";var d,e,u,f,wt,p,ct,a,ft;let bt,h,o,l,c,i={appNS:"",kValue:""},g=null,w=null,et="",v,lt;n.ExpandAllInlines=fi;n.EnableClarity=ei;n.logInfo=ot;n.logGPing=s;n.logInteraction=y;n.toggleParentClass=b;n.DictScriptLoad=bi;sj_evt.fire("OnScriptLoad:DictionaryAsync:DictionaryModule")})(DictionaryModule||(DictionaryModule={}))